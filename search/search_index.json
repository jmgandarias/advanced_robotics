{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#advanced-robotics","title":"Advanced Robotics","text":"<p>Course material for the second part and Lab sesions of the Advanced Robotics course at the University of M\u00e1laga. </p> <p>By Juan M. Gandarias </p> <p>Systems Engineering and Automation Department</p> <p>Find out more...</p> <p></p>"},{"location":"about/","title":"Welcome","text":""},{"location":"about/#welcome","title":"Welcome","text":"<p>This is the home of the Advanced Robotics course: A fourth-year undergraduate course for Electronics, Robotics, and Mechatronics Engineering students in the School of Industrial Engineering at the University of M\u00e1laga. The lab course is developed by Dr Juan M. Gandarias, an Assistant Professor in the Systems Engineering and Automation Department.</p>"},{"location":"about/acknowledgements/","title":"Acknowledgements","text":"<p>The delivery of these materials following this format has been inspired by the work done by Dr. Tom Howard in the COM2009-3009 Robotics Course at The University of Sheffield. In addition, the content presented has been inspired by various sources listed below.</p>"},{"location":"about/changelog/","title":"Version History","text":""},{"location":"about/changelog/#iteration-1","title":"Iteration 1","text":"<p>Academic Year: 2024-2025</p> <ul> <li>Initial release of the curse.</li> <li>Course structured in 6 Lab sessions.</li> <li>Inclusion of the lab sessions.</li> </ul>"},{"location":"about/license/","title":"License","text":""},{"location":"about/license/#license","title":"License","text":"<p> This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License. </p> <p>You are free to distribute, remix, adapt, and build upon this work (for non-commercial purposes only) as long as credit is given to the original author.</p>"},{"location":"lab1/","title":"Exercise Overview","text":""},{"location":"lab1/#exercise-overview","title":"Exercise Overview","text":"<p>This exercise illustrates the generation of Cartesian trajectories using one of the methodologies studied in this topic. For this purpose, a series of functions developed for this effect will be used:</p>"},{"location":"lab1/#functions","title":"Functions","text":"<ul> <li><code>function T=zyz2tr(a)</code>: Conversion of the row vector <code>a=[alpha,beta,gamma]</code> of ZYZ Euler angles to a 4x4 homogeneous transformation \\(T\\).</li> <li><code>function a=tr2zyz(T, m)</code>: Obtains the representation <code>a=[alpha,beta,gamma]</code> of the ZYZ Euler angles from the transformation \\(T\\). The sign of the parameter \\(m\\) chooses the solution. If not specified, the positive solution is taken by default.</li> <li><code>function q=tr2q(T, m)</code>: Converts the homogeneous matrix \\(T\\) to quaternion \\(q\\). The two solutions are chosen using the parameter \\(m\\). The sign of \\(m\\) chooses the positive or negative solution. If \\(m\\) is omitted, the positive solution is taken by default.</li> <li><code>function T=q2tr(q)</code>: Calculates the 4x4 homogeneous matrix \\(T\\) corresponding to the quaternion \\(q\\).</li> <li><code>function q=qqmul(q1, q2)</code>: Quaternion multiplication. \\(q\\) is the quaternion resulting from multiplying \\(q_1\\) by \\(q_2\\). Both \\(q_1\\) and \\(q_2\\) must be two row vectors of four components. The result will also have the same format.</li> <li><code>Pr\u00e1ctic1_PlanifCart</code>: Script that performs the complete simulation during all proposed segments, using the Robotic Toolbox with the ABB IRB120 manipulator model and the graphical representation of the temporal evolution of Cartesian trajectories and orientation in ZYZ Euler angles.</li> </ul>"},{"location":"lab1/#cartesian-interpolation","title":"Cartesian Interpolation","text":"<p>Cartesian interpolation is characterized by achieving a linear variation of position and orientation, the latter using the representation of orientation through quaternions. Therefore, when linking two rectilinear displacements, a velocity discontinuity occurs at the transition point.</p> <p>Figure 1 shows the described situation, using the example of concatenating a displacement from location \\(P_0\\) to \\(P_1\\) with another from \\(P_1\\) to \\(P_2\\). To avoid the velocity discontinuity that occurs at \\(P_1\\), a constant acceleration is used to adapt the velocity variation of vector \\(X\\) from the first segment to the second.</p> <p> Fgure 1. Diagram of the variation of position and velocity in the movement from \\(P_0\\) to \\(P_2\\) via \\(P_1\\).</p> <p>In this way, -\u03c4 units of time before reaching \\(P_1\\) (time 0), the velocity will be linearly changed from \\(\\Delta P_1/T_1\\) to \\(\\Delta P_2/T_2\\), to accommodate the velocity \u03c4 units of time after passing \\(P_1\\). Thus, the problem is defined as the calculation of a quadratic function \\(X(t)\\) that starts at point \\(P_A\\) and ends at \\(P_B\\) (start and end points of the smoothing) defined in the time range \\([-\\tau, \\tau]\\).</p> <p>Applying the boundary conditions at both ends of the segment and defining the acceleration in the area, the position is obtained as:</p> \\[ P(t) = P_1 - \\frac{(\\tau - t)^2}{4\\tau T_1} \\Delta P_1 + \\frac{(\\tau + t)^2}{4\\tau T_2} \\Delta P_2 \\] <p>And for the orientation:</p> \\[ q(t) = q_1 \\cdot q \\left[ -\\frac{(\\tau - t)^2}{4\\tau T_1} \\theta_1, n_1 \\right] \\cdot q \\left[ \\frac{(\\tau + t)^2}{4\\tau T_2} \\theta_2, n_2 \\right] \\] <p>Considering all the above, the following is requested:</p> <ol> <li>Define the quaternion interpolation function based on the Taylor method <code>[pr, qr]=qpinter(P1, P2, \u03bb)</code> that calculates the intermediate quaternion between \\(q_1\\) (initial) and \\(q_2\\) (final). The value \\(\\lambda\\) must satisfy \\(0\\leq \\lambda \\leq 1\\), so that <code>[p1, q1]=qpinter(P1, P2, 0)</code> and <code>[p2, q2]=qpinter(P1, P2, 1)</code>.</li> <li>Create a MATLAB function in the format <code>P=tramoq(P0, P1, P2, tau, T, t)</code> that calculates the transformation \\(P\\) corresponding to the movement from \\(P_0\\) to \\(P_2\\) via \\(P_1\\) smoothed by the Taylor method. The parameters \\(\\tau\\) and \\(T\\) correspond respectively to the transition interval and total time used to traverse the path as shown in Figure 1, and \\(T\\) indicates the time at which the location of the calculated path \\(P\\) is reached.</li> <li>Graphically represent the evolution of position and orientation (in ZYZ Euler angles) throughout the trajectory.</li> </ol> \\[ P_0 = \\begin{pmatrix} 1 &amp; 0 &amp; 0 &amp; 0.374 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0.63 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\ \\end{pmatrix}, \\quad P_1 = \\begin{pmatrix} 0 &amp; 1 &amp; 0 &amp; 0.3038 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 \\\\ -1 &amp; 0 &amp; 0 &amp; 0.051 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\\\ \\end{pmatrix}, \\quad P_2 = \\begin{pmatrix} 0 &amp; -1 &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; 1 &amp; 0.302 \\\\ -1 &amp; 0 &amp; 0 &amp; 0.558 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\\\ \\end{pmatrix} \\]"},{"location":"lab2/","title":"Lab Session 2: Manipulator dynamics simulation","text":"<p>TBD</p>"},{"location":"lab3/","title":"Lab Session 3: Manipulator dynamics compensation","text":"<p>TBD</p>"},{"location":"lab4/","title":"Lab Session 4: Impedance controller","text":"<p>TBD</p>"},{"location":"lab5/","title":"Lab Session 5: Admittance controller","text":"<p>TBD</p>"},{"location":"lab6/","title":"Lab Session 6: Force control with inner position loop","text":"<p>TBD</p>"}]}